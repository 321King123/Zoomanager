<div *ngIf="error" class="alert alert-danger alert-dismissible fade show" role="alert">
  <strong>Error! </strong> {{ errorMessage }}
  <button type="button" (click)="vanishError()" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>


<div *ngIf="isAdmin()">
  <div class = "employee-creation-header">
    <h5 style="margin-top: 25px;">Create new Employee</h5>
  </div>
  <div class = "employee-creation-body">
    <form class="form" [formGroup]="employeeCreationForm" (ngSubmit)="addEmployee()">

      <div class="form-group">
        <label for="inputUsername">Username</label>
        <input type="text" name="username" formControlName="username" class="form-control" id="inputUsername"
               aria-describedby="usernameHelp" placeholder="Enter username">
        <div *ngIf="submittedEmployee && employeeCreationForm.controls.username.errors" class="error">
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.username.errors.required">Username is
            required!
          </small>
        </div>
      </div>

      <div class="form-group">
        <label for="inputEmail">Email</label>
        <input type="text" name="email" formControlName="email" class="form-control" id="inputEmail"
               aria-describedby="emailHelp" placeholder="Enter User Email (optional)">
        <div *ngIf="submittedEmployee && employeeCreationForm.controls.email.errors" class="error">
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.email.errors.email">Must be a valid
            E-Mail Address or empty.-
          </small>
        </div>
      </div>

      <div class="form-group">
        <label for="inputPassword">Password</label>
        <input type="password" name="password" formControlName="password" class="form-control" id="inputPassword"
               aria-describedby="passwordHelp" placeholder="Enter password">
        <div *ngIf="submittedEmployee && employeeCreationForm.controls.password.errors" class="error">
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.password.errors.required">Password is
            required!
          </small>
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.password.errors.minlength"> Password
            must be min. 8s Letters
          </small>
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.password.errors.pattern"> Password
            must have at least 1 uppercase letter, 1 lowercase letter and 1 number
          </small>

        </div>
      </div>

      <div class="form-group">
        <label for="inputName">Name</label>
        <input type="text" name="name" formControlName="name" class="form-control" id="inputName"
               aria-describedby="nameHelp" placeholder="Enter name">
        <div *ngIf="submittedEmployee && employeeCreationForm.controls.name.errors" class="error">
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.name.errors.required">Name is
            required!
          </small>
        </div>
      </div>

      <div class="form-group">
        <label for="inputBirthday">Birthday</label>
        <input type="date" name="birthday" formControlName="birthday" class="form-control" id="inputBirthday">
        <div *ngIf="submittedEmployee && employeeCreationForm.controls.birthday.errors" class="error">
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.birthday.errors.required">Birthday is
            required!
          </small>
        </div>
      </div>

      <div class="form-group">
        <label for="inputEmployeeType">Employee Type</label>
        <select class="form-control"  name="employeeType" formControlName="employeeType" id="inputEmployeeType">
          <option *ngFor="let type of typeValues" [ngValue]="employeeTypes[type]">{{type}}</option>
        </select>
        <div *ngIf="submittedEmployee && employeeCreationForm.controls.employeeType.errors" class="error">
          <small class="form-text text-warning" *ngIf="employeeCreationForm.controls.employeeType.errors.required">Employee
            Type is required!
          </small>
        </div>
      </div>

      <button type="button" (click)="addEmployee()" class="btn btn-success float-right">Add Employee</button>
    </form>
  </div>

</div>

<div *ngIf="!isAdmin()">
  If you are no Admin you probably shouldn't be here.
</div>
